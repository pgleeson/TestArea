<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V2.0//EN" "http://forrest.apache.org/dtd/document-v20.dtd">
<document>
  <header>
    <title>Installing and running neuroConstruct</title>
  </header>
  <body>


    <section>
		<title>Installation</title>
<ol>
    
<li>neuroConstruct has been tested on on WinXP/NT, Red Hat Linux and SUSE and Mac OS. Details of the interaction with NEURON/GENESIS in 
    each of these environments is available <a href="interact.html#Mac">here</a>. The application can be run successfully on Vista too,
but there is more interaction from the operating system...</li>

<li>neuroConstruct will run on most machines with a video card which can run Java and Java3D. For networks/cells with >5000 total segments,
the faster the machine, and the more RAM and graphics memory, the better; 1GB RAM and 128MB graphics is usually fine, higher is better. See <a href="Glossary_gen.html#3D View of Cells">here</a> for tips on improving graphics performance on slower machines.</li>


<li>Install Java J2SE 5.0 or higher. Available <a href="http://java.sun.com/j2se/1.5.0/download.jsp">here</a> (Note: Java and Java3D are
    normally installed by default on Macs, but the latest version may need to be downloaded). It's better to download the <strong>JDK 
        (Java Development Kit)</strong>, which includes command line tools for Java. If there are any problems with the preinstalled 
    version of Java on Linux, install a local copy in your home directory and change the PATH variable as appropriate.</li>


<li>You'll need to install Java 3D. Downloads available for
	<a  href="https://java3d.dev.java.net/binary-builds.html">Windows</a>,
	<a href="https://java3d.dev.java.net/binary-builds.html">Linux</a>,
	and <a  href="http://www.apple.com/downloads/macosx/apple/java3dandjavaadvancedimagingupdate.html">Mac.</a>
	Note: even if youâ€™ve installed Java 3D in the past, Java may have automatically updated itself with a newer version (e.g. in 
    C:\Program Files\Java). In this case run the Java 3D installer from the link above and it will find the correct version.</li>



<li>The simplest way to install is to use the automatic installers for Windows, Linux and Mac. 
	The Windows installer puts the code into
	<strong>C:\Program Files\neuroConstruct_1.x.x</strong> (where 1.x.x represents the current version number) or a location of your choice, and the application can be launched
	via the desktop icon, or via <strong>Start -> Programs -> neuroConstruct_1.x.x</strong>. There is also a link to the 
	documentation in this menu, or the HTML files are available at: 
	<strong>C:\Program Files\neuroConstruct_1.x.x\docs\website\docs</strong>. 
	The Linux installer puts the code into a directory of your choosing, 
	e.g. <strong>/home/myuser/neuroConstruct_1.x.x</strong>. A desktop link should be automatically created, but this may vary 
    depending on the Linux distribution. In any case there will be an executable: <strong>/home/myuser/neuroConstruct_1.x.x/neuroConstruct</strong>
	which can be run in a console to start the application.
Clicking on the Mac installer will extract an executable which when run puts 
the application in <strong>/Applications/neuroConstruct_1.x.x</strong>. A desktop link will be created but the best way to run 
		it is to open a Terminal, go to <strong>/Applications/neuroConstruct_1.x.x</strong> and execute <strong>./neuroConstruct</strong>.

</li>

<li>If a manual install is preferred, there is a neuroConstruct zip file available for download with a directory 
	tree from <strong>neuroConstruct_1.x.x</strong>, containing the main jar file and directories with the examples, documentation, etc. 
    Unzip this to a convenient location e.g. to <strong>C:\neuroConstruct_1.x.x</strong> (Windows), 
    <strong>/home/myuser/neuroConstruct_1.x.x</strong> (Linux), <strong>/Applications/neuroConstruct_1.x.x</strong> (Mac) </li>


<li>Install NEURON (available <a  href="http://www.neuron.yale.edu/neuron/">here</a>) if you'll be running simulations in this environment. 
    Note: for Mac users, you'll need to install the Developer Tools (XCode) in addition to the NEURON *.dmg.
For Linux, make sure you have the packages gcc, ncurses and ncurses-devel installed. More tips on interaction with NEURON 
<a href="interact.html">here</a></li>

<li>Install GENESIS (available <a  href="http://www.genesis-sim.org/GENESIS/">here</a>)  if you'll be running simulations in this 
    environment. More tips on interaction with GENESIS <a href="interact.html">here</a></li>



</ol>
</section>

    <section>
      <title>Building and running</title>
	   
	  
<p>To run after using automatic installer:</p>


<p>There should be a desktop shortcut and/or a start menu entry to launch the application.</p>
	  
<p>To run manually:</p>

<p>Open a command prompt/shell (Windows: <strong>Start -> Programs -> Accessories ->
        Command Prompt</strong> and type <strong>cd C:\neuroConstruct_1.x.x</strong>, 
	Linux: Open a terminal/console and type <strong>cd /home/myuser/neuroConstruct_1.x.x</strong>,
    Mac: <strong>Applications -> Utilities -> Terminal</strong> and type <strong>cd /Applications/neuroConstruct_1.x.x</strong>). </p>
<p>Type the command:
    <strong>java -Xmx500M -jar neuroConstruct_1.x.x.jar</strong> to run neuroConstruct. </p>
<p>Note: the supplied
<strong>run.bat</strong> (Windows) or <strong>run.sh</strong> (Linux/Mac) may prove useful. For Windows, you can also double click 
on <strong>run.bat</strong> in the file explorer. 

Under Linux and Mac you might need to run <strong>chmod u+x run.sh</strong> before you can run the file by typing <strong>./run.sh</strong></p>

<p>The <strong>-Xmx500M</strong> (request to the JVM to have 500MB as the max Java heap size) is there to ensure enough memory
    for the graphics. Alter according to your machine's capabilities (approx 50% of max memory available).
	<strong>NOTE:</strong> it's been found that requesting too much memory for Java can result in the application crashing when
    the graphics card is required to display large networks; aim for less than half the available RAM. See points on displaying 
    large 3D networks <a href="Glossary_gen.html#3D View of Cells">here</a></p>

<p>The included examples should be listed under the menu item <strong>File</strong>. Run these to get a feel for the application, 
    or follow the <a href="tutorials/index.html">tutorials</a></p>

<p>More details of interacting with NEURON/GENESIS on various platforms is available <a href="interact.html">here</a></p>

<p>To build (for distributions containing all the source code):</p>

<ol>
<li>Install Ant (available <a href="http://ant.apache.org/">here</a>)</li>
<li>In the directory you have installed the code (contains build.xml) type <strong>ant</strong></li>
</ol>

<p>To run via Ant:</p>
<ol>
<li>Type <strong>ant run</strong></li>
</ol>
<p>To generate the JavaDoc:</p>

<ol>
<li>Type <strong>ant javadoc</strong></li>
</ol>
</section>

<section>
      <title>Post installation</title>


<p>Check that the location of the NEURON home dir is properly set. Go to <strong>Settings -> General Properties &amp; Project 
        Defaults</strong> for this. Also check on the command line for running executables in a new terminal window via Java.
    The suggested command lines have been tested on WinXP, Red Hat Linux and SUSE. neuroConstruct has been tested on Macs, 
    but the interaction with NEURON/GENESIS can use some polishing. <a href="interact.html#Mac">See here</a></p>


<p>When the application is run for the first time, it will create 2 files in a directory .neuroConstruct in your home directory:</p>


<table class="noborder">

<tr>
<td  ><em>{USER_HOME} /.neuroConstruct/neuroConstruct.props</em></td>
<td >Stores project independent information, e.g. default 3D settings, location of NEURON files, etc.</td>
</tr>
<tr >
<td  ><em>{USER_HOME} /.neuroConstruct/neuroConstruct.recent</em></td>
<td >Stores list of recent project files</td>
</tr>
</table>

<p><strong>Do not edit these files directly!</strong> Use <strong>Settings -> General Properties</strong> for this.</p>


    </section>


<p>&nbsp;</p>
<p>&nbsp;</p>
  </body>
</document>
